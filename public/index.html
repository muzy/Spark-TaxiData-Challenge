<!DOCTYPE html>
<html>

  <head>
    <title>NodeJS Starter Application</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
  </head>

  <body>
  	  <div id="map">
  	  </div>
 
     <script>
		function getColor(d) {
		    return d > 1000 ? '#800026' :
		           d > 500  ? '#BD0026' :
		           d > 200  ? '#E31A1C' :
		           d > 100  ? '#FC4E2A' :
		           d > 50   ? '#FD8D3C' :
		           d > 20   ? '#FEB24C' :
		           d > 10   ? '#FED976' :
		                      '#FFEDA0';
		}
     
     
     
     
		var map = L.map('map');
		
		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);
		
		map.setView([51.505, -0.09], 13);

		L.marker([51.5, -0.09]).addTo(map)
    		.bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
    		.openPopup();
    		
    		
    		
    		
    	var legend = L.control({position: 'bottomright'});

		legend.onAdd = function (map) {

		    var div = L.DomUtil.create('div', 'info legend'),
		        grades = [0, 10, 20, 50, 100, 200, 500, 1000],
		        labels = [];
		
		    // loop through our density intervals and generate a label with a colored square for each interval
		    for (var i = 0; i < grades.length; i++) {
		        div.innerHTML +=
		            '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
		            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
		    }
		
		    return div;
		};
		
		legend.addTo(map);
	</script>
    
    
  </body>

</html>
